"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _reactPortal=require("@radix-ui/react-portal");var _clsx=_interopRequireDefault(require("clsx"));var _react=_interopRequireWildcard(require("react"));var _reactAria=require("react-aria");var _toastContainer=_interopRequireDefault(require("./ToastContainer"));var _toastsModuleCss=_interopRequireDefault(require("./toasts.module.css"));var _useToasts=_interopRequireDefault(require("./useToasts"));function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function useForceUpdate(){return(0,_react).useReducer(function(){return{}},{})[1]}var ToastArea=function(){var ref=(0,_reactAria).useHover({}),hoverProps=ref.hoverProps,isHovered=ref.isHovered;var current=(0,_useToasts).default().current;var ref1;var messages=(ref1=current===null||current===void 0?void 0:current.messages)!==null&&ref1!==void 0?ref1:[];var heights=(0,_react).useRef([]);var forceUpdate=useForceUpdate();return _react.default.createElement(_reactPortal.Portal,null,_react.default.createElement("div",_extends({},hoverProps,{className:(0,_clsx).default("toast-area",_toastsModuleCss.default.toastArea,_defineProperty({},_toastsModuleCss.default.multiple,messages.length>1))}),messages.map(function(e,i){return _react.default.createElement(_toastContainer.default,{key:e.key,hovering:isHovered,position:messages.length-1-i,text:e.text,height:e.height,heights:heights.current,remove:function(){current===null||current===void 0?void 0:current.removeToastByKey(e.key)},type:e.type,preserve:e.preserve,action:e.action,cancelAction:e.cancelAction,id:e.key,onMount:forceUpdate})})))};var _default=ToastArea;exports.default=_default