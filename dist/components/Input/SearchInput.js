import React from"react";import{forwardRef,useRef}from"react";import Search from"../../icons/search";import{mergeRefs}from"../../utils/merge-refs";import{Spinner}from"../Spinner/index";import{default as Input}from"./Input";import{ClearButton}from"./clear-button";function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var SearchInput=forwardRef(function(_param,externalRef){var loading=_param.loading,props=_objectWithoutProperties(_param,["loading"]);var ref1;var inputRef=useRef(null);return React.createElement(Input,_extends({},props,{ref:mergeRefs([externalRef,inputRef]),"aria-label":props["aria-label"]||"Search",typeName:"search",prefix:loading?React.createElement(Spinner,{size:{small:16,large:24}[props.size]}):React.createElement(Search,null),prefixStyling:false,suffix:props.value||((ref1=inputRef.current)===null||ref1===void 0?void 0:ref1.value)?React.createElement(ClearButton,{onClick:function(){if(inputRef.current){var ref;inputRef.current.value="";inputRef.current.focus();(ref=props.onChange)===null||ref===void 0?void 0:ref.call(props,{target:{value:""}})}}}):null,suffixContainer:false,suffixStyling:false}))});export default SearchInput